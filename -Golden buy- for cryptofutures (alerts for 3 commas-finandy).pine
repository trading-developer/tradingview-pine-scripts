Script Name: -Golden buy- for cryptofutures (alerts for 3 commas-finandy)
Author: Cherepanov_V
Description: This script is a blend of open source cipher B indicator by VuManChu and Hammers & Stars strategy made by ZenAndTheArtOfTrading.

"Golden buy" is based on divergencies and was considered as one of the top strategies for cryptotrading. So I used it for entrance point in this script.

You can turn on opening short positions which are based on divergencies as well....
PineScript code:

Pine Scriptâ„¢ strategy
"Golden buy" for cryptofutures (alerts for 3 commas/finandy)
//@version=4
strategy(title  =  'golden_buy',  shorttitle  =  'GB',  overlay=true,initial_capital=30,default_qty_type  =  strategy.cash,default_qty_value  =90,commission_type  =  strategy.commission.percent,commission_value  =0.04,currency="EUR")
//  PARAMETERS  {
stopMultiplier      =  input(title="Stop  Loss  ATR",  type=input.float,  defval=2,  tooltip="Stop  loss  multiplier  (x  ATR)",  group="Strategy  Settings")
rr                              =  input(title="R:R",  type=input.float,  defval=1.5,  tooltip="Risk:Reward  profile",  group="Strategy  Settings")
short_on=input(title="Short  ON?",  defval=false,  type=input.bool,    group="Strategy  Settings")
div_on=input(title="Divergences  ON?",  defval=false,  type=input.bool,    group="Strategy  Settings")
//  WaveTrend
wtShow  =  true
wtBuyShow  =  true
wtGoldShow  =true
wtSellShow=true
wtDivShow=true
vwapShow=true
wtChannelLen=input(9,title='WTChannelLength',type=input.integer)
wtAverageLen=input(12,title='WTAverageLength',type=input.integer)
wtMASource=input(hlc3,title='WTMASource',type=input.source)
wtMALen=input(3,title='WTMALength',type=input.integer)
//WaveTrendOverbought&Oversoldlines
obLevel=input(53,title='WTOverboughtLevel1',type=input.integer)
obLevel2=input(60,title='WTOverboughtLevel2',type=input.integer)
obLevel3=input(100,title='WTOverboughtLevel3',type=input.integer)
osLevel=input(-53,title='WTOversoldLevel1',type=input.integer)
osLevel2=input(-60,title='WTOversoldLevel2',type=input.integer)
osLevel3=input(-75,title='WTOversoldLevel3',type=input.integer)
//DivergenceWT
wtShowDiv=true
wtShowHiddenDiv=true
showHiddenDiv_nl=input(true,title='NotapplyOB/OSLimitsonHiddenDivergences',type=input.bool)
wtDivOBLevel=input(45,title='WTBearishDivergencemin',type=input.integer)
wtDivOSLevel=input(-65,title='WTBullishDivergencemin',type=input.integer)
//Divergenceextrarange
wtDivOBLevel_addshow=true
wtDivOBLevel_add=input(15,title='WT2ndBearishDivergence',type=input.integer)
wtDivOSLevel_add=input(-40,title='WT2ndBullishDivergence15min',type=input.integer)
//RSI+MFI
rsiMFIShow=true
rsiMFIperiod=input(60,title='MFIPeriod',type=input.integer)
rsiMFIMultiplier=input(150,title='MFIAreamultiplier',type=input.float)
rsiMFIPosY=input(2.5,title='MFIAreaYPos',type=input.float)
//RSI
rsiShow=true
rsiSRC=input(close,title='RSISource',type=input.source)
rsiLen=input(14,title='RSILength',type=input.integer)
rsiOversold=input(30,title='RSIOversold',minval=50,maxval=100,type=input.integer)
rsiOverbought=input(60,title='RSIOverbought',minval=0,maxval=50,type=input.integer)
//DivergenceRSI
rsiShowDiv=true
rsiShowHiddenDiv=true
rsiDivOBLevel=input(60,title='RSIBearishDivergencemin',type=input.integer)
rsiDivOSLevel=input(30,title='RSIBullishDivergencemin',type=input.integer)
//RSIStochastic
stochShow=true
stochUseLog=input(true,title='UseLog?',type=input.bool)
stochAvg=input(false,title='UseAverageofbothK&D',type=input.bool)
stochSRC=input(close,title='StochasticRSISource',type=input.source)
stochLen=input(14,title='StochasticRSILength',type=input.integer)
stochRsiLen=input(14,title='RSILength',type=input.integer)
stochKSmooth=input(3,title='StochasticRSIKSmooth',type=input.integer)
stochDSmooth=input(3,title='StochasticRSIDSmooth',type=input.integer)
//Divergencestoch
stochShowDiv=true
stochShowHiddenDiv=true
//SchaffTrendCycle
tcLine=true
tcSRC=input(close,title='SchaffTCSource',type=input.source)
tclength=input(10,title="SchaffTC",type=input.integer)
tcfastLength=input(23,title="SchaffTCFastLenght",type=input.integer)
tcslowLength=input(50,title="SchaffTCSlowLength",type=input.integer)
tcfactor=input(0.5,title="SchaffTCFactor",type=input.float)
//SommiFlag
sommiFlagShow=false
sommiShowVwap=false
sommiVwapTF=input('720',title='SommiF.Wavetimeframe',type=input.string)
sommiVwapBearLevel=input(0,title='F.WaveBearLevel(lessthan)',type=input.integer)
sommiVwapBullLevel=input(0,title='F.WaveBullLevel(morethan)',type=input.integer)
soomiFlagWTBearLevel=input(0,title='WTBearLevel(morethan)',type=input.integer)
soomiFlagWTBullLevel=input(0,title='WTBullLevel(lessthan)',type=input.integer)
soomiRSIMFIBearLevel=input(0,title='MoneyflowBearLevel(lessthan)',type=input.integer)
soomiRSIMFIBullLevel=input(0,title='MoneyflowBullLevel(morethan)',type=input.integer)
//SommiDiamond
sommiDiamondShow=false
sommiHTCRes=input('60',title='HTFCandleRes.1',type=input.string)
sommiHTCRes2=input('240',title='HTFCandleRes.2',type=input.string)
soomiDiamondWTBearLevel=input(0,title='WTBearLevel(Morethan)',type=input.integer)
soomiDiamondWTBullLevel=input(0,title='WTBullLevel(Lessthan)',type=input.integer)
//macdColors
macdWTColorsShow=false
macdWTColorsTF=input('240',title='MACDColorsMACDTF',type=input.string)
darkMode=input(false,title='Darkmode',type=input.bool)
//Colors
colorRed=#ff0000
colorPurple=#e600e6
colorGreen=#3fff00
colorOrange=#e2a400
colorYellow=#ffe500
colorWhite=#ffffff
colorPink=#ff00f0
colorBluelight=#31c0ff
colorWT1=#90caf9
colorWT2=#0d47a1
colorWT2_=#131722
colormacdWT1a=#4caf58
colormacdWT1b=#af4c4c
colormacdWT1c=#7ee57e
colormacdWT1d=#ff3535
colormacdWT2a=#305630
colormacdWT2b=#310101
colormacdWT2c=#132213
colormacdWT2d=#770000
//}PARAMETERS
//FUNCTIONS{

//Divergences
f_top_fractal(src)=>src[4]<src[2]andsrc[3]<src[2]andsrc[2]>src[1]andsrc[2]>src[0]
f_bot_fractal(src)=>src[4]>src[2]andsrc[3]>src[2]andsrc[2]<src[1]andsrc[2]<src[0]
f_fractalize(src)=>f_top_fractal(src)?1:f_bot_fractal(src)?-1:0
f_findDivs(src,topLimit,botLimit,useLimits)=>
fractalTop=f_fractalize(src)>0and(useLimits?src[2]>=topLimit:true)?src[2]:na
fractalBot=f_fractalize(src)<0and(useLimits?src[2]<=botLimit:true)?src[2]:na
highPrev=valuewhen(fractalTop,src[2],0)[2]
highPrice=valuewhen(fractalTop,high[2],0)[2]
lowPrev=valuewhen(fractalBot,src[2],0)[2]
lowPrice=valuewhen(fractalBot,low[2],0)[2]
bearSignal=fractalTopandhigh[2]>highPriceandsrc[2]<highPrev
bullSignal=fractalBotandlow[2]<lowPriceandsrc[2]>lowPrev
bearDivHidden=fractalTopandhigh[2]<highPriceandsrc[2]>highPrev
bullDivHidden=fractalBotandlow[2]>lowPriceandsrc[2]<lowPrev
[fractalTop,fractalBot,lowPrev,bearSignal,bullSignal,bearDivHidden,bullDivHidden]

//RSI+MFI
f_rsimfi(_period,_multiplier,_tf)=>security(syminfo.tickerid,_tf,sma(((close-open)/(high-low))*_multiplier,_period)-rsiMFIPosY)

//WaveTrend
f_wavetrend(src,chlen,avg,malen,tf)=>
tfsrc=security(syminfo.tickerid,tf,src)
esa=ema(tfsrc,chlen)
de=ema(abs(tfsrc-esa),chlen)
ci=(tfsrc-esa)/(0.015*de)
wt1=security(syminfo.tickerid,tf,ema(ci,avg))
wt2=security(syminfo.tickerid,tf,sma(wt1,malen))
wtVwap=wt1-wt2
wtOversold=wt2<=osLevel
wtOverbought=wt2>=obLevel
wtCross=cross(wt1,wt2)
wtCrossUp=wt2-wt1<=0
wtCrossDown=wt2-wt1>=0
wtCrosslast=cross(wt1[2],wt2[2])
wtCrossUplast=wt2[2]-wt1[2]<=0
wtCrossDownlast=wt2[2]-wt1[2]>=0
[wt1,wt2,wtOversold,wtOverbought,wtCross,wtCrossUp,wtCrossDown,wtCrosslast,wtCrossUplast,wtCrossDownlast,wtVwap]
//SchaffTrendCycle
f_tc(src,length,fastLength,slowLength)=>
ema1=ema(src,fastLength)
ema2=ema(src,slowLength)
macdVal=ema1-ema2
alpha=lowest(macdVal,length)
beta=highest(macdVal,length)-alpha
gamma=(macdVal-alpha)/beta*100
gamma:=beta>0?gamma:nz(gamma[1])
delta=gamma
delta:=na(delta[1])?delta:delta[1]+tcfactor*(gamma-delta[1])
epsilon=lowest(delta,length)
zeta=highest(delta,length)-epsilon
eta=(delta-epsilon)/zeta*100
eta:=zeta>0?eta:nz(eta[1])
stcReturn=eta
stcReturn:=na(stcReturn[1])?stcReturn:stcReturn[1]+tcfactor*(eta-stcReturn[1])
stcReturn
//StochasticRSI
f_stochrsi(_src,_stochlen,_rsilen,_smoothk,_smoothd,_log,_avg)=>
src=_log?log(_src):_src
rsi=rsi(src,_rsilen)
kk=sma(stoch(rsi,rsi,rsi,_stochlen),_smoothk)
d1=sma(kk,_smoothd)
avg_1=avg(kk,d1)
k=_avg?avg_1:kk
[k,d1]
//MACD
f_macd(src,fastlen,slowlen,sigsmooth,tf)=>
fast_ma=security(syminfo.tickerid,tf,ema(src,fastlen))
slow_ma=security(syminfo.tickerid,tf,ema(src,slowlen))
macd=fast_ma-slow_ma,
signal=security(syminfo.tickerid,tf,sma(macd,sigsmooth))
hist=macd-signal
[macd,signal,hist]
//MACDColorsonWT
f_macdWTColors(tf)=>
hrsimfi=f_rsimfi(rsiMFIperiod,rsiMFIMultiplier,tf)
[macd,signal,hist]=f_macd(close,28,42,9,macdWTColorsTF)
macdup=macd>=signal
macddown=macd<=signal
macdWT1Color=macdup?hrsimfi>0?colormacdWT1c:colormacdWT1a:macddown?hrsimfi<0?colormacdWT1d:colormacdWT1b:na
macdWT2Color=macdup?hrsimfi<0?colormacdWT2c:colormacdWT2a:macddown?hrsimfi<0?colormacdWT2d:colormacdWT2b:na
[macdWT1Color,macdWT2Color]

//Gethighertimeframecandle
f_getTFCandle(_tf)=>
_open=security(heikinashi(syminfo.tickerid),_tf,open,barmerge.gaps_off,barmerge.lookahead_off)
_close=security(heikinashi(syminfo.tickerid),_tf,close,barmerge.gaps_off,barmerge.lookahead_off)
_high=security(heikinashi(syminfo.tickerid),_tf,high,barmerge.gaps_off,barmerge.lookahead_off)
_low=security(heikinashi(syminfo.tickerid),_tf,low,barmerge.gaps_off,barmerge.lookahead_off)
hl2=(_high+_low)/2.0
newBar=change(_open)
candleBodyDir=_close>_open
[candleBodyDir,newBar]
//Sommiflag
f_findSommiFlag(tf,wt1,wt2,rsimfi,wtCross,wtCrossUp,wtCrossDown)=>
[hwt1,hwt2,hwtOversold,hwtOverbought,hwtCross,hwtCrossUp,hwtCrossDown,hwtCrosslast,hwtCrossUplast,hwtCrossDownlast,hwtVwap]=f_wavetrend(wtMASource,wtChannelLen,wtAverageLen,wtMALen,tf)

bearPattern=rsimfi<soomiRSIMFIBearLeveland
wt2>soomiFlagWTBearLeveland
wtCrossand
wtCrossDownand
hwtVwap<sommiVwapBearLevel

bullPattern=rsimfi>soomiRSIMFIBullLeveland
wt2<soomiFlagWTBullLeveland
wtCrossand
wtCrossUpand
hwtVwap>sommiVwapBullLevel

[bearPattern,bullPattern,hwtVwap]

f_findSommiDiamond(tf,tf2,wt1,wt2,wtCross,wtCrossUp,wtCrossDown)=>
[candleBodyDir,newBar]=f_getTFCandle(tf)
[candleBodyDir2,newBar2]=f_getTFCandle(tf2)
bearPattern=wt2>=soomiDiamondWTBearLeveland
wtCrossand
wtCrossDownand
notcandleBodyDirand
notcandleBodyDir2
bullPattern=wt2<=soomiDiamondWTBullLeveland
wtCrossand
wtCrossUpand
candleBodyDirand
candleBodyDir2
[bearPattern,bullPattern]

//}FUNCTIONS
//CALCULATEINDICATORS{
//RSI
rsi=rsi(rsiSRC,rsiLen)
rsiColor=rsi<=rsiOversold?colorGreen:rsi>=rsiOverbought?colorRed:colorPurple
//RSI+MFIArea
rsiMFI=f_rsimfi(rsiMFIperiod,rsiMFIMultiplier,timeframe.period)
rsiMFIColor=rsiMFI>0?#3ee145:#ff3d2e
//CalculatesWaveTrend
[wt1,wt2,wtOversold,wtOverbought,wtCross,wtCrossUp,wtCrossDown,wtCross_last,wtCrossUp_last,wtCrossDown_last,wtVwap]=f_wavetrend(wtMASource,wtChannelLen,wtAverageLen,wtMALen,timeframe.period)

//StochasticRSI
[stochK,stochD]=f_stochrsi(stochSRC,stochLen,stochRsiLen,stochKSmooth,stochDSmooth,stochUseLog,stochAvg)
//SchaffTrendCycle
tcVal=f_tc(tcSRC,tclength,tcfastLength,tcslowLength)
//Sommiflag
[sommiBearish,sommiBullish,hvwap]=f_findSommiFlag(sommiVwapTF,wt1,wt2,rsiMFI,wtCross,wtCrossUp,wtCrossDown)
//Sommidiamond
[sommiBearishDiamond,sommiBullishDiamond]=f_findSommiDiamond(sommiHTCRes,sommiHTCRes2,wt1,wt2,wtCross,wtCrossUp,wtCrossDown)
//macdcolors
[macdWT1Color,macdWT2Color]=f_macdWTColors(macdWTColorsTF)
//WTDivergences
[wtFractalTop,wtFractalBot,wtLow_prev,wtBearDiv,wtBullDiv,wtBearDivHidden,wtBullDivHidden]=f_findDivs(wt2,wtDivOBLevel,wtDivOSLevel,true)

[wtFractalTop_add,wtFractalBot_add,wtLow_prev_add,wtBearDiv_add,wtBullDiv_add,wtBearDivHidden_add,wtBullDivHidden_add]=f_findDivs(wt2,wtDivOBLevel_add,wtDivOSLevel_add,true)
[wtFractalTop_nl,wtFractalBot_nl,wtLow_prev_nl,wtBearDiv_nl,wtBullDiv_nl,wtBearDivHidden_nl,wtBullDivHidden_nl]=f_findDivs(wt2,0,0,false)
wtBearDivHidden_=showHiddenDiv_nl?wtBearDivHidden_nl:wtBearDivHidden
wtBullDivHidden_=showHiddenDiv_nl?wtBullDivHidden_nl:wtBullDivHidden
wtBearDivColor=(wtShowDivandwtBearDiv)or(wtShowHiddenDivandwtBearDivHidden_)?colorRed:na
wtBullDivColor=(wtShowDivandwtBullDiv)or(wtShowHiddenDivandwtBullDivHidden_)?colorGreen:na
wtBearDivColor_add=(wtShowDivand(wtDivOBLevel_addshowandwtBearDiv_add))or(wtShowHiddenDivand(wtDivOBLevel_addshowandwtBearDivHidden_add))?#9a0202:na
wtBullDivColor_add=(wtShowDivand(wtDivOBLevel_addshowandwtBullDiv_add))or(wtShowHiddenDivand(wtDivOBLevel_addshowandwtBullDivHidden_add))?#1b5e20:na
//RSIDivergences
[rsiFractalTop,rsiFractalBot,rsiLow_prev,rsiBearDiv,rsiBullDiv,rsiBearDivHidden,rsiBullDivHidden]=f_findDivs(rsi,rsiDivOBLevel,rsiDivOSLevel,true)
[rsiFractalTop_nl,rsiFractalBot_nl,rsiLow_prev_nl,rsiBearDiv_nl,rsiBullDiv_nl,rsiBearDivHidden_nl,rsiBullDivHidden_nl]=f_findDivs(rsi,0,0,false)
rsiBearDivHidden_=showHiddenDiv_nl?rsiBearDivHidden_nl:rsiBearDivHidden
rsiBullDivHidden_=showHiddenDiv_nl?rsiBullDivHidden_nl:rsiBullDivHidden
rsiBearDivColor=(rsiShowDivandrsiBearDiv)or(rsiShowHiddenDivandrsiBearDivHidden_)?colorRed:na
rsiBullDivColor=(rsiShowDivandrsiBullDiv)or(rsiShowHiddenDivandrsiBullDivHidden_)?colorGreen:na

//StochDivergences
[stochFractalTop,stochFractalBot,stochLow_prev,stochBearDiv,stochBullDiv,stochBearDivHidden,stochBullDivHidden]=f_findDivs(stochK,0,0,false)
stochBearDivColor=(stochShowDivandstochBearDiv)or(stochShowHiddenDivandstochBearDivHidden)?colorRed:na
stochBullDivColor=(stochShowDivandstochBullDiv)or(stochShowHiddenDivandstochBullDivHidden)?colorGreen:na
//SmallCirclesWTCross
signalColor=wt2-wt1>0?color.red:color.lime
//Buysignal.
buySignal=wtCrossandwtCrossUpandwtOversold
buySignalDiv=(wtShowDivandwtBullDiv)or
(wtShowDivandwtBullDiv_add)or
(stochShowDivandstochBullDiv)or
(rsiShowDivandrsiBullDiv)

buySignalDiv_color=wtBullDiv?colorGreen:
wtBullDiv_add?color.new(colorGreen,60):
rsiShowDiv?colorGreen:na
//Sellsignal
sellSignal=wtCrossandwtCrossDownandwtOverbought

sellSignalDiv=(wtShowDivandwtBearDiv)or
(wtShowDivandwtBearDiv_add)or
(stochShowDivandstochBearDiv)or
(rsiShowDivandrsiBearDiv)

sellSignalDiv_color=wtBearDiv?colorRed:
wtBearDiv_add?color.new(colorRed,60):
rsiBearDiv?colorRed:na
//GoldBuy
lastRsi=valuewhen(wtFractalBot,rsi[2],0)[2]
wtGoldBuy=((wtShowDivandwtBullDiv)or(rsiShowDivandrsiBullDiv))and
wtLow_prev<=osLevel3and
wt2>osLevel3and
wtLow_prev-wt2<=-5and
lastRsi<30

//}CALCULATEINDICATORS
//DRAW{
bgcolor(darkMode?color.new(#000000,80):na)
zLine=plot(0,color=color.new(colorWhite,50))
//MFIBAR
rsiMfiBarTopLine=plot(rsiMFIShow?-95:na,title='MFIBarTOPLine',transp=100)
rsiMfiBarBottomLine=plot(rsiMFIShow?-99:na,title='MFIBarBOTTOMLine',transp=100)
fill(rsiMfiBarTopLine,rsiMfiBarBottomLine,title='MFIBarColors',color=rsiMFIColor,transp=75)
//Strategy
atr=atr(14)
validGold=wtGoldBuyordiv_on?buySignalDiv:falseandnotna(atr)
validSell=short_on?sellSignalDiv:falseandnotna(atr)
validlong=validGoldandstrategy.position_size==0
validshort=validSellandstrategy.position_size==0
stopSize=atr*stopMultiplier
longStopPrice=low<low[1]?low-stopSize:low[1]-stopSize
longStopDistance=close-longStopPrice
longTargetPrice=close+(longStopDistance*rr)
longTargetOffset=100*rr*longStopDistance/close
shortStopPrice=high>high[1]?high+stopSize:high[1]+stopSize
shortStopDistance=shortStopPrice-close
shortTargetPrice=close-(shortStopDistance*rr)
shortTargetOffset=100*rr*shortStopDistance/close
vartradeStopPrice=0.0
vartradeTargetPrice=0.0
varOffset=0.0
ifvalidlong
tradeStopPrice:=longStopPrice
tradeTargetPrice:=longTargetPrice
Offset:=longTargetOffset
alert(message='{\n'
+'"name":"Hook29800",\n'
+'"secret":"123",\n'
+'"side":"buy",\n'
+'"symbol":'+syminfo.tickerid+',\n'
+'"sl":{\n'
+'"price":'+tostring(tradeStopPrice)+'\n'
+'},\n'
+'"tp":{\n'
+'"orders":{\n'
+'"0":{\n'
+'"ofs":'+tostring(Offset)+',\n'
+'"piece":"50"\n'
+'}\n'
+'}\n'
+'}\n'
+'}',
freq=alert.freq_once_per_bar_close)

ifvalidshort
tradeStopPrice:=shortStopPrice
tradeTargetPrice:=shortTargetPrice
Offset:=shortTargetOffset
alert(message='{\n'
+'"name":"Hook29800",\n'
+'"secret":"123",\n'
+'"side":"sell",\n'
+'"symbol":'+syminfo.tickerid+',\n'
+'"sl":{\n'
+'"price":'+tostring(tradeStopPrice)+'\n'
+'},\n'
+'"tp":{\n'
+'"orders":{\n'
+'"0":{\n'
+'"ofs":'+tostring(Offset)+',\n'
+'"piece":"50"\n'
+'}\n'
+'}\n'
+'}',
freq=alert.freq_once_per_bar_close)
strategy.entry(id="Long",long=strategy.long,when=validlong)//comment='{\n'+'"message_type":"bot",\n'+'"bot_id":123,\n'+'"email_token":"132",\n'+'"delay_seconds":0\n'+'}')
strategy.entry(id="Short",long=strategy.short,when=validshort)//comment='{\n'+'"message_type":"bot",\n'+'"bot_id":123,\n'+'"email_token":"123",\n'+'"delay_seconds":0\n'+'}')
strategy.exit(id="LongExit",from_entry="Long",limit=tradeTargetPrice,stop=tradeStopPrice,when=strategy.position_size>0,comment='{\n'+'"action":"close_at_market_price",\n'+'"message_type":"bot",\n'+'"bot_id":123,\n'+'"email_token":"123",\n'+'"delay_seconds":0\n'+'}')
strategy.exit(id="ShortExit",from_entry="Short",limit=tradeTargetPrice,stop=tradeStopPrice,when=strategy.position_size<0,comment='{\n'+'"action":"close_at_market_price",\n'+'"message_type":"bot",\n'+'"bot_id":123,\n'+'"email_token":"123",\n'+'"delay_seconds":0\n'+'}')
plot(strategy.position_size!=0orvalidlongorvalidshort?tradeStopPrice:na,title="TradeStopPrice",color=color.red,style=plot.style_linebr,transp=0)
plot(strategy.position_size!=0orvalidlongorvalidshort?tradeTargetPrice:na,title="TradeTargetPrice",color=color.green,style=plot.style_linebr,transp=0)
plotshape(validlong?1:na,style=shape.triangleup,location=location.belowbar,color=color.green,title="BullishSetup")
plotshape(validshort?1:na,style=shape.triangledown,location=location.abovebar,color=color.red,title="BearishSetup")
Expand (457 lines)
